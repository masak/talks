<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>#55438: [PATCH] Patched Test.pm and test for Test.pm</title>
    <link rel="shortcut icon" href="/rt3/NoAuth/images//favicon.png" type="image/png" />
    <link rel="stylesheet" href="/rt3/NoAuth/css/rt.perl.org/main.css" type="text/css" media="all" />
    <link rel="stylesheet" href="/rt3/NoAuth/css/print.css" type="text/css" media="print" />
    <script type="text/javascript" src="/rt3/NoAuth/js/util.js"></script>
    <script type="text/javascript" src="/rt3/NoAuth/js/titlebox-state.js"></script>
    <script type="text/javascript"><!--
        onLoadHook("loadTitleBoxStates()");
    --></script>

  </head>
  <body id="comp-Public-Bug-Display">

  <div id="logo">
    <a href="http://rt.perl.org/rt3/"><img src="/rt3/NoAuth/images//local/pblogo.gif" alt="PerlBug" width="230" height="50"></a>
  </div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
    You are currently an anonymous guest.
    |
    <a href="/rt3/NoAuth/Logout.html?URL=/rt3/index.html?goto=%252FPublic%252FBug%252FDisplay.html%253Fid%253D55438">Login</a>
    |
    <a href="/rt3/NoAuth/Logout.html">Return to Main</a>
   | <a href="/rt3/User/Prefs.html">Preferences</a>
  

  </div>



  <div id="topactions">
    <span class="topaction">
<form action="/rt3/Public/Search/Simple.html">
  <input size="12" name="q" autocomplete="off" accesskey="0" class="field" />
  <input type="submit" class="button" value="Search" />
</form>
    </span>
  </div>

</div>

<div id="nav">
<ul id="system-menu">
<div><div class="wrapper">
</div></div>
</ul>



</div>

<div id="header">
  <h1>#55438: [PATCH] Patched Test.pm and test for Test.pm</h1>

  <ul id="page-menu">
    <div><div><div>
&nbsp;
    </div></div></div>
  </ul>

</div>

<div id="body">





<a name="skipnav" id="skipnav" accesskey="8"></a>




<div class="">
  <div class="titlebox " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox--_Public_Bug_Display.html------Report information---0');" onfocus="this.blur(); return false;" title="Toggle visibility">X</a></span>
    <span class="left">Report information</span>
    <span class="right"></span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display.html------Report information---0">



      <table width="100%" class="ticket-summary">
      <tr>
	<td valign="top" width="50%" class="boxcontainer">
	  <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox--_Public_Bug_Display.html--ticket-info-basics----The Basics---0');" onfocus="this.blur(); return false;" title="Toggle visibility">X</a></span>
    <span class="left"><a href="/rt3/Ticket/Modify.html?id=55438">The Basics</a></span>
    <span class="right"></span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display.html--ticket-info-basics----The Basics---0">



	        <table>
  <tr>
    <td class="label id">Id:</td>
    <td class="value id">55438</td>
  </tr>
  <tr>
    <td class="label status">Status:</td>
    <td class="value status">resolved</td>
  </tr>
  <tr>
    <td class="label time left">Left:</td>
    <td class="value time left">0 min
</td>
  </tr>
  <tr>
    <td class="label priority">Priority:</td>
    <td class="value priority">0/0</td>
  </tr>
  <tr>
    <td class="label queue">Queue:</td>
    <td class="value queue">perl6
</td>
  </tr>

</table>

	      <hr class="clear" />
  </div>
</div>




</div>


	  
      <div class="ticket-info-people">
  <div class="titlebox ticket-info-people" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox--_Public_Bug_Display.html--ticket-info-people----People---0');" onfocus="this.blur(); return false;" title="Toggle visibility">X</a></span>
    <span class="left"><a href="/rt3/Ticket/ModifyPeople.html?id=55438">People</a></span>
    <span class="right"></span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display.html--ticket-info-people----People---0">



            <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">

Nobody

</td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">


bacek
&lt;bacek [at] bacek.com&gt;

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

	      <hr class="clear" />
  </div>
</div>




</div>



	</td>
	<td valign="top" width="50%" class="boxcontainer">
    
	  <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox--_Public_Bug_Display.html--ticket-info-cfs----Bug Information---0');" onfocus="this.blur(); return false;" title="Toggle visibility">X</a></span>
    <span class="left"><a href="/rt3/Ticket/Modify.html?id=55438">Bug Information</a></span>
    <span class="right"></span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display.html--ticket-info-cfs----Bug Information---0">


 
	        <table>
  <tr id="CF-18-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-19-ShowRow">
    <td class="label">Tag:</td>
    <td class="value">
Patch    </td>
  </tr>
  <tr id="CF-20-ShowRow">
    <td class="label">Platform:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-21-ShowRow">
    <td class="label">Patch Status:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


	      <hr class="clear" />
  </div>
</div>




</div>



	  <div class="">
  <div class="titlebox " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox--_Public_Bug_Display.html------Attachments---0');" onfocus="this.blur(); return false;" title="Toggle visibility">X</a></span>
    <span class="left">Attachments</span>
    <span class="right"></span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display.html------Attachments---0">





test2.diff<br />
<ul>


<li><font size="-2">
<a href="/rt3/Ticket/Attachment/431776/197156/test2.diff">
Fri Jun 20 13:57:29 2008 (3.2k) by bacek
</a>
</font></li>
</ul>


test.t<br />
<ul>


<li><font size="-2">
<a href="/rt3/Ticket/Attachment/421892/192138/test.t">
Sat Jun 07 00:30:53 2008 (1.6k) by bacek
</a>
</font></li>


<li><font size="-2">
<a href="/rt3/Ticket/Attachment/421884/192122/test.t">
Sat Jun 07 00:21:46 2008 (1.9k) by bacek
</a>
</font></li>
</ul>


test3.diff<br />
<ul>


<li><font size="-2">
<a href="/rt3/Ticket/Attachment/432630/197614/test3.diff">
Sat Jun 21 16:10:24 2008 (3.1k) by bacek
</a>
</font></li>
</ul>


Test.pm<br />
<ul>


<li><font size="-2">
<a href="/rt3/Ticket/Attachment/421884/192124/Test.pm">
Sat Jun 07 00:21:46 2008 (4.2k) by bacek
</a>
</font></li>
</ul>


test.diff<br />
<ul>


<li><font size="-2">
<a href="/rt3/Ticket/Attachment/421884/192120/test.diff">
Sat Jun 07 00:21:46 2008 (3.7k) by bacek
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>



<br />



	</td>
      </tr>
    </table>





    <hr class="clear" />
  </div>
</div>




</div>



<br />




<div class="titlebox " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox--_Public_Bug_Display.html------History---0');" onfocus="this.blur(); return false;" title="Toggle visibility">X</a></span>
    <span class="left">History</span>
    <span class="right"><span style="color: black">Display mode:</span> <span class="selected">Brief headers</span> &mdash; <a href="/rt3/Ticket/Display.html?ShowHeaders=1;id=55438">Full headers</a></span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display.html------History---0">




<div id="ticket-history">
<div class="ticket-transaction message odd">

<table width="100%" cellspacing="0" cellpadding="2" border="0">
  <tr>
    <td rowspan="2" valign="top" class="type">
      <a name="txn-421884" href="/rt3/Ticket/Display.html?id=55438#txn-421884">#</a>
      &nbsp;
    </td>
    <td class="date">Sat&nbsp;Jun&nbsp;07&nbsp;00:21:46&nbsp;2008</td>
    <td class="description">
      bacek -  Ticket created
    </td>
    <td class="time-taken"></td>
    <td class="actions">&nbsp;</td>
  </tr>

  <tr>
    <td colspan="4" class="content">
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value">[PATCH] Patched Test.pm and test for Test.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value">Sat, 07 Jun 2008 17:20:54 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value">rakudobug <!-- x --> at perl.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value">Vasily Chekalkin &lt;bacek <!-- x --> at bacek.com&gt;</td>
  </tr>
</table>
<div class="messagebody">
<table>
</table>
 
<div class="downloadattachment">
 
<a href="/rt3/Ticket/Attachment/421884/192118/">Download &#40;untitled&#41;</a>
<span class="downloadcontenttype">
[text/plain 269b]
</span> 
</div>
<div class="messagebody">
<div class="message-stanza-depth-0">
Hello.<br />
<br />
There is patched Test.pm which allows unittest it. Provide method to <br />
override &#39;proclaim&#40;&#41;&#39; from external program to check it invocation.<br />
<br />
Also attached &#39;test.t&#39; for it. I just don&#39;t know best place for this test.<br />
<br />
And whole Test.pm just in case :&#41;<br />
<br />
-- <br />
Bacek.<br />
</div>
</div>
<table>
</table>
 
<div class="downloadattachment">
 
<a href="/rt3/Ticket/Attachment/421884/192120/test.diff">Download test.diff</a>
<span class="downloadcontenttype">
[text/x-diff 3.7k]
</span> 
</div>
<div class="messagebody">
<div class="message-stanza-depth-0">
diff --git a/languages/perl6/Test.pm b/languages/perl6/Test.pm<br />
index 5cb04ae..e113af7 100644<br />
--- a/languages/perl6/Test.pm<br />
+++ b/languages/perl6/Test.pm<br />
@@ -14,9 +14,16 @@ our $todo_reason = &#39;&#39;;<br />
<div class="message-stanza-depth-1">
 # for running the test suite multiple times in the same process<br />
</div>
 our $testing_started;<br />
 <br />
+# for unittesting of Test.pm we override &#39;proclaim&#39;<br />
+our &#38;proclaim := &#38;real_proclaim;<br />
+<br />
+sub set_proclaim&#40;$proc&#41; {<br />
+       &#38;proclaim := $proc;<br />
+}<br />
 <br />
<div class="message-stanza-depth-1">
<div class="message-stanza-depth-2">
 ## test functions<br />
</div>
</div>
 <br />
+<br />
<div class="message-stanza-depth-1">
 # Compare numeric values with approximation<br />
</div>
 sub approx &#40;$x, $y&#41; {<br />
     my $epsilon = 0.00001;<br />
@@ -33,14 +40,14 @@ sub plan&#40;$number_of_tests&#41; {<br />
 <br />
 <br />
 multi sub ok&#40;$cond, $desc&#41; {<br />
-    proclaim&#40;$cond, $desc&#41;;<br />
+    &#38;proclaim&#40;$cond, $desc&#41;;<br />
 }<br />
 <br />
 multi sub ok&#40;$cond&#41; { ok&#40;$cond, &#39;&#39;&#41;; }<br />
 <br />
 <br />
 multi sub nok&#40;$cond, $desc&#41; {<br />
-    proclaim&#40;!$cond, $desc&#41;;<br />
+    &#38;proclaim&#40;!$cond, $desc&#41;;<br />
 }<br />
 <br />
 multi sub nok&#40;$cond&#41; { nok&#40;!$cond, &#39;&#39;&#41;; }<br />
@@ -48,7 +55,7 @@ multi sub nok&#40;$cond&#41; { nok&#40;!$cond, &#39;&#39;&#41;; }<br />
 <br />
 multi sub is&#40;$got, $expected, $desc&#41; {<br />
     my $test = $got eq $expected;<br />
-    proclaim&#40;$test, $desc&#41;;<br />
+    &#38;proclaim&#40;$test, $desc&#41;;<br />
 }<br />
 <br />
 multi sub is&#40;$got, $expected&#41; { is&#40;$got, $expected, &#39;&#39;&#41;; }<br />
@@ -56,14 +63,14 @@ multi sub is&#40;$got, $expected&#41; { is&#40;$got, $expected, &#39;&#39;&#41;; }<br />
 <br />
 multi sub isnt&#40;$got, $expected, $desc&#41; {<br />
     my $test = !&#40;$got eq $expected&#41;;<br />
-    proclaim&#40;$test, $desc&#41;;<br />
+    &#38;proclaim&#40;$test, $desc&#41;;<br />
 }<br />
 <br />
 multi sub isnt&#40;$got, $expected&#41; { isnt&#40;$got, $expected, &#39;&#39;&#41;; }<br />
 <br />
 multi sub is_approx&#40;$got, $expected, $desc&#41; {<br />
     my $test = abs&#40;$got - $expected&#41; &lt;= 0.00001;<br />
-    proclaim&#40;$test, $desc&#41;;<br />
+    &#38;proclaim&#40;$test, $desc&#41;;<br />
 }<br />
 <br />
 multi sub is_approx&#40;$got, $expected&#41; { is_approx&#40;$got, $expected, &#39;&#39;&#41;; }<br />
@@ -78,11 +85,11 @@ multi sub todo&#40;$reason&#41; {<br />
     $todo_reason = &#39;# TODO &#39; ~ $reason;<br />
 }<br />
 <br />
-multi sub skip&#40;&#41;                { proclaim&#40;1, &#34;# SKIP&#34;&#41;; }<br />
-multi sub skip&#40;$reason&#41;         { proclaim&#40;1, &#34;# SKIP &#34; ~ $reason&#41;; }<br />
+multi sub skip&#40;&#41;                { &#38;proclaim&#40;1, &#34;# SKIP&#34;&#41;; }<br />
+multi sub skip&#40;$reason&#41;         { &#38;proclaim&#40;1, &#34;# SKIP &#34; ~ $reason&#41;; }<br />
 multi sub skip&#40;$count, $reason&#41; {<br />
     for 1..$count {<br />
-        proclaim&#40;1, &#34;# SKIP &#34; ~ $reason&#41;;<br />
+        &#38;proclaim&#40;1, &#34;# SKIP &#34; ~ $reason&#41;;<br />
     }<br />
 }<br />
 <br />
@@ -97,16 +104,20 @@ multi sub skip_rest&#40;$reason&#41; {<br />
 sub diag&#40;$message&#41; { say &#39;# &#39;~$message; }<br />
 <br />
 <br />
-multi sub flunk&#40;$reason&#41; { proclaim&#40;0, &#34;flunk $reason&#34;&#41;}<br />
+multi sub flunk&#40;$reason&#41; { &#38;proclaim&#40;0, &#34;flunk $reason&#34;&#41;}<br />
 <br />
 <br />
 sub isa_ok&#40;$var,$type&#41; { ok&#40;$var.isa&#40;$type&#41;, &#34;The object is-a &#39;$type&#39;&#34;&#41;; }<br />
 <br />
 multi sub dies_ok&#40;$closure, $reason&#41; {<br />
+       our $died = 1;<br />
     try {<br />
         $closure&#40;&#41;;<br />
+               $died = 0;<br />
     }<br />
-    proclaim&#40;&#40;defined $!&#41;, $reason&#41;;<br />
+       # This line is to avoid bug in rakudo. We&#39;ll remove it<br />
+       $died = 0 + $died;<br />
+    &#38;proclaim&#40;$died, $reason&#41;;<br />
 }<br />
 multi sub dies_ok&#40;$closure&#41; {<br />
     dies_ok&#40;$closure, &#39;&#39;&#41;;<br />
@@ -115,22 +126,24 @@ multi sub dies_ok&#40;$closure&#41; {<br />
 multi sub lives_ok&#40;$closure, $reason&#41; {<br />
     try {<br />
         $closure&#40;&#41;;<br />
+               &#38;proclaim&#40;1, $reason&#41;;<br />
     }<br />
-    proclaim&#40;&#40;not defined $!&#41;, $reason&#41;;<br />
 }<br />
 multi sub lives_ok&#40;$closure&#41; {<br />
     lives_ok&#40;$closure, &#39;&#39;&#41;;<br />
 }<br />
 <br />
 multi sub eval_dies_ok&#40;$code, $reason&#41; {<br />
-    proclaim&#40;&#40;defined eval_exception&#40;$code&#41;&#41;, $reason&#41;;<br />
+       eval&#40;$code&#41;;<br />
+    &#38;proclaim&#40;defined&#40;$!&#41;, $reason&#41;;<br />
 }<br />
 multi sub eval_dies_ok&#40;$code&#41; {<br />
     eval_dies_ok&#40;$code, &#39;&#39;&#41;;<br />
 }<br />
 <br />
 multi sub eval_lives_ok&#40;$code, $reason&#41; {<br />
-    proclaim&#40;&#40;not defined eval_exception&#40;$code&#41;&#41;, $reason&#41;;<br />
+       eval&#40;$code&#41;;<br />
+    &#38;proclaim&#40;!&#40;defined $!&#41;, $reason&#41;;<br />
 }<br />
 multi sub eval_lives_ok&#40;$code&#41; {<br />
     eval_lives_ok&#40;$code, &#39;&#39;&#41;;<br />
@@ -139,13 +152,7 @@ multi sub eval_lives_ok&#40;$code&#41; {<br />
 <br />
<div class="message-stanza-depth-1">
 ## &#39;private&#39; subs<br />
</div>
 <br />
-sub eval_exception&#40;$code&#41; {<br />
-    my $eval_exception;<br />
-    try { eval &#40;$code&#41;; $eval_exception = $! }<br />
-    $eval_exception // $!;<br />
-}<br />
-<br />
-sub proclaim&#40;$cond, $desc&#41; {<br />
+sub real_proclaim&#40;$cond, $desc&#41; {<br />
     $testing_started  = 1;<br />
     $num_of_tests_run = $num_of_tests_run + 1;<br />
 <br />
</div>
</div>
<table>
</table>
 
<div class="downloadattachment">
 
<a href="/rt3/Ticket/Attachment/421884/192122/test.t">Download test.t</a>
<span class="downloadcontenttype">
[application/x-troff 1.9k]
</span> 
</div>
<div class="messagebody">
Message body not shown because it is too large or is not plain text.</div>
<table>
</table>
 
<div class="downloadattachment">
 
<a href="/rt3/Ticket/Attachment/421884/192124/Test.pm">Download Test.pm</a>
<span class="downloadcontenttype">
[text/x-perl 4.2k]
</span> 
</div>
<div class="messagebody">
<div class="message-stanza-depth-0">
<div class="message-stanza-depth-1">
# Copyright &#40;C&#41; 2007, The Perl Foundation.<br />
# $Id$<br />
</div>
<br />
<div class="message-stanza-depth-1">
<div class="message-stanza-depth-2">
## This is a temporary Test.pm to get us started until we get pugs&#39;s Test.pm<br />
## working. It&#39;s shamelessly stolen &#38; adapted from MiniPerl6 in the pugs repo.<br />
</div>
</div>
<br />
<div class="message-stanza-depth-1">
# globals to keep track of our tests<br />
</div>
our $num_of_tests_run = 0;<br />
our $num_of_tests_failed = 0;<br />
our $num_of_tests_planned;<br />
our $todo_upto_test_num = 0;<br />
our $todo_reason = &#39;&#39;;<br />
<br />
<div class="message-stanza-depth-1">
# for running the test suite multiple times in the same process<br />
</div>
our $testing_started;<br />
<br />
<div class="message-stanza-depth-1">
# for unittesting of Test.pm we override &#39;proclaim&#39;<br />
</div>
our &#38;proclaim := &#38;real_proclaim;<br />
<br />
sub set_proclaim&#40;$proc&#41; {<br />
        &#38;proclaim := $proc;<br />
}<br />
<br />
<div class="message-stanza-depth-1">
<div class="message-stanza-depth-2">
## test functions<br />
</div>
</div>
<br />
<br />
<div class="message-stanza-depth-1">
# Compare numeric values with approximation<br />
</div>
sub approx &#40;$x, $y&#41; {<br />
    my $epsilon = 0.00001;<br />
    my $diff = abs&#40;$x - $y&#41;;<br />
    &#40;$diff &lt; $epsilon&#41;;<br />
}<br />
<br />
sub plan&#40;$number_of_tests&#41; {<br />
    $testing_started      = 1;<br />
    $num_of_tests_planned = $number_of_tests;<br />
<br />
    say &#39;1..&#39; ~ $number_of_tests;<br />
}<br />
<br />
<br />
multi sub ok&#40;$cond, $desc&#41; {<br />
    &#38;proclaim&#40;$cond, $desc&#41;;<br />
}<br />
<br />
multi sub ok&#40;$cond&#41; { ok&#40;$cond, &#39;&#39;&#41;; }<br />
<br />
<br />
multi sub nok&#40;$cond, $desc&#41; {<br />
    &#38;proclaim&#40;!$cond, $desc&#41;;<br />
}<br />
<br />
multi sub nok&#40;$cond&#41; { nok&#40;!$cond, &#39;&#39;&#41;; }<br />
<br />
<br />
multi sub is&#40;$got, $expected, $desc&#41; {<br />
    my $test = $got eq $expected;<br />
    &#38;proclaim&#40;$test, $desc&#41;;<br />
}<br />
<br />
multi sub is&#40;$got, $expected&#41; { is&#40;$got, $expected, &#39;&#39;&#41;; }<br />
<br />
<br />
multi sub isnt&#40;$got, $expected, $desc&#41; {<br />
    my $test = !&#40;$got eq $expected&#41;;<br />
    &#38;proclaim&#40;$test, $desc&#41;;<br />
}<br />
<br />
multi sub isnt&#40;$got, $expected&#41; { isnt&#40;$got, $expected, &#39;&#39;&#41;; }<br />
<br />
multi sub is_approx&#40;$got, $expected, $desc&#41; {<br />
    my $test = abs&#40;$got - $expected&#41; &lt;= 0.00001;<br />
    &#38;proclaim&#40;$test, $desc&#41;;<br />
}<br />
<br />
multi sub is_approx&#40;$got, $expected&#41; { is_approx&#40;$got, $expected, &#39;&#39;&#41;; }<br />
<br />
multi sub todo&#40;$reason, $count&#41; {<br />
    $todo_upto_test_num = $num_of_tests_run + $count;<br />
    $todo_reason = &#39;# TODO &#39; ~ $reason;<br />
}<br />
<br />
multi sub todo&#40;$reason&#41; {<br />
    $todo_upto_test_num = $num_of_tests_run + 1;<br />
    $todo_reason = &#39;# TODO &#39; ~ $reason;<br />
}<br />
<br />
multi sub skip&#40;&#41;                { &#38;proclaim&#40;1, &#34;# SKIP&#34;&#41;; }<br />
multi sub skip&#40;$reason&#41;         { &#38;proclaim&#40;1, &#34;# SKIP &#34; ~ $reason&#41;; }<br />
multi sub skip&#40;$count, $reason&#41; {<br />
    for 1..$count {<br />
        &#38;proclaim&#40;1, &#34;# SKIP &#34; ~ $reason&#41;;<br />
    }<br />
}<br />
<br />
multi sub skip_rest&#40;&#41; {<br />
    skip&#40;$num_of_tests_planned - $num_of_tests_run, &#34;&#34;&#41;;<br />
}<br />
<br />
multi sub skip_rest&#40;$reason&#41; {<br />
    skip&#40;$num_of_tests_planned - $num_of_tests_run, $reason&#41;;<br />
}<br />
<br />
sub diag&#40;$message&#41; { say &#39;# &#39;~$message; }<br />
<br />
<br />
multi sub flunk&#40;$reason&#41; { &#38;proclaim&#40;0, &#34;flunk $reason&#34;&#41;}<br />
<br />
<br />
sub isa_ok&#40;$var,$type&#41; { ok&#40;$var.isa&#40;$type&#41;, &#34;The object is-a &#39;$type&#39;&#34;&#41;; }<br />
<br />
multi sub dies_ok&#40;$closure, $reason&#41; {<br />
        our $died = 1;<br />
    try {<br />
        $closure&#40;&#41;;<br />
                $died = 0;<br />
    }<br />
<div class="message-stanza-depth-1">
        # This line is to avoid bug in rakudo. We&#39;ll remove it<br />
</div>
        $died = 0 + $died;<br />
    &#38;proclaim&#40;$died, $reason&#41;;<br />
}<br />
multi sub dies_ok&#40;$closure&#41; {<br />
    dies_ok&#40;$closure, &#39;&#39;&#41;;<br />
}<br />
<br />
multi sub lives_ok&#40;$closure, $reason&#41; {<br />
    try {<br />
        $closure&#40;&#41;;<br />
                &#38;proclaim&#40;1, $reason&#41;;<br />
    }<br />
}<br />
multi sub lives_ok&#40;$closure&#41; {<br />
    lives_ok&#40;$closure, &#39;&#39;&#41;;<br />
}<br />
<br />
multi sub eval_dies_ok&#40;$code, $reason&#41; {<br />
        eval&#40;$code&#41;;<br />
    &#38;proclaim&#40;defined&#40;$!&#41;, $reason&#41;;<br />
}<br />
multi sub eval_dies_ok&#40;$code&#41; {<br />
    eval_dies_ok&#40;$code, &#39;&#39;&#41;;<br />
}<br />
<br />
multi sub eval_lives_ok&#40;$code, $reason&#41; {<br />
        eval&#40;$code&#41;;<br />
    &#38;proclaim&#40;!&#40;defined $!&#41;, $reason&#41;;<br />
}<br />
multi sub eval_lives_ok&#40;$code&#41; {<br />
    eval_lives_ok&#40;$code, &#39;&#39;&#41;;<br />
}<br />
<br />
<br />
<div class="message-stanza-depth-1">
<div class="message-stanza-depth-2">
## &#39;private&#39; subs<br />
</div>
</div>
<br />
sub real_proclaim&#40;$cond, $desc&#41; {<br />
    $testing_started  = 1;<br />
    $num_of_tests_run = $num_of_tests_run + 1;<br />
<br />
    unless $cond {<br />
        print &#34;not &#34;;<br />
        $num_of_tests_failed = $num_of_tests_failed + 1<br />
            unless  $num_of_tests_run &lt;= $todo_upto_test_num;<br />
    }<br />
    print &#34;ok &#34;, $num_of_tests_run, &#34; - &#34;, $desc;<br />
    if $todo_reason and $num_of_tests_run &lt;= $todo_upto_test_num {<br />
        print $todo_reason;<br />
    }<br />
    print &#34;\n&#34;;<br />
}<br />
<br />
END {<br />
<div class="message-stanza-depth-1">
    # until END blocks can access compile-time symbol tables of outer scopes,<br />
    #  we need these declarations<br />
</div>
    our $testing_started;<br />
    our $num_of_tests_planned;<br />
    our $num_of_tests_run;<br />
    our $num_of_tests_failed;<br />
<br />
    if &#40;$testing_started and $num_of_tests_planned != $num_of_tests_run&#41; {  ##Wrong quantity of tests<br />
        diag&#40;&#34;Looks like you planned $num_of_tests_planned tests, but ran $num_of_tests_run&#34;&#41;;<br />
    }<br />
    if &#40;$testing_started and $num_of_tests_failed&#41; {<br />
        diag&#40;&#34;Looks like you failed $num_of_tests_failed tests of $num_of_tests_run&#34;&#41;;<br />
    }<br />
}<br />
</div>
</div>
</div>
    </td>
  </tr>

</table>
</div>


<div class="ticket-transaction other even">

<table width="100%" cellspacing="0" cellpadding="2" border="0">
  <tr>
    <td rowspan="2" valign="top" class="type">
      <a name="txn-421890" href="/rt3/Ticket/Display.html?id=55438#txn-421890">#</a>
      &nbsp;
    </td>
    <td class="date">Sat&nbsp;Jun&nbsp;07&nbsp;00:21:49&nbsp;2008</td>
    <td class="description">
      RT_System -  Tag Patch added
    </td>
    <td class="time-taken"></td>
    <td class="actions">&nbsp;</td>
  </tr>

  <tr>
    <td colspan="4" class="content">
    </td>
  </tr>

</table>
</div>


<div class="ticket-transaction message odd">

<table width="100%" cellspacing="0" cellpadding="2" border="0">
  <tr>
    <td rowspan="2" valign="top" class="type">
      <a name="txn-421892" href="/rt3/Ticket/Display.html?id=55438#txn-421892">#</a>
      &nbsp;
    </td>
    <td class="date">Sat&nbsp;Jun&nbsp;07&nbsp;00:30:53&nbsp;2008</td>
    <td class="description">
      bacek -  Correspondence added
    </td>
    <td class="time-taken"></td>
    <td class="actions">&nbsp;</td>
  </tr>

  <tr>
    <td colspan="4" class="content">
<table>
</table>
<div class="messagebody">
<table>
</table>
 
<div class="downloadattachment">
 
<a href="/rt3/Ticket/Attachment/421892/192132/">Download &#40;untitled&#41;</a>
<span class="downloadcontenttype">
[text/plain 95b]
</span> 
</div>
<div class="messagebody">
<div class="message-stanza-depth-0">
On Sat Jun 07 00:21:46 2008, bacek wrote:<br />
<br />
Sorry, there is clean version of test.t<br />
<br />
-- <br />
Bacek.<br />
</div>
</div>
</div>
<table>
</table>
<div class="messagebody">
<table>
</table>
<div class="messagebody">
<div class="message-stanza-depth-0">

</div>
</div>
<table>
</table>
 
<div class="downloadattachment">
 
<a href="/rt3/Ticket/Attachment/421892/192138/test.t">Download test.t</a>
<span class="downloadcontenttype">
[application/x-troff 1.6k]
</span> 
</div>
<div class="messagebody">
Message body not shown because it is too large or is not plain text.</div>
</div>
    </td>
  </tr>

</table>
</div>


<div class="ticket-transaction basics even">

<table width="100%" cellspacing="0" cellpadding="2" border="0">
  <tr>
    <td rowspan="2" valign="top" class="type">
      <a name="txn-421896" href="/rt3/Ticket/Display.html?id=55438#txn-421896">#</a>
      &nbsp;
    </td>
    <td class="date">Sat&nbsp;Jun&nbsp;07&nbsp;00:30:56&nbsp;2008</td>
    <td class="description">
      bacek -  Status changed from &#39;new&#39; to &#39;open&#39;
    </td>
    <td class="time-taken"></td>
    <td class="actions">&nbsp;</td>
  </tr>

  <tr>
    <td colspan="4" class="content">
    </td>
  </tr>

</table>
</div>


<div class="ticket-transaction message odd">

<table width="100%" cellspacing="0" cellpadding="2" border="0">
  <tr>
    <td rowspan="2" valign="top" class="type">
      <a name="txn-431776" href="/rt3/Ticket/Display.html?id=55438#txn-431776">#</a>
      &nbsp;
    </td>
    <td class="date">Fri&nbsp;Jun&nbsp;20&nbsp;13:57:29&nbsp;2008</td>
    <td class="description">
      bacek -  Comments added
    </td>
    <td class="time-taken"></td>
    <td class="actions">&nbsp;</td>
  </tr>

  <tr>
    <td colspan="4" class="content">
<table>
</table>
<div class="messagebody">
<table>
</table>
 
<div class="downloadattachment">
 
<a href="/rt3/Ticket/Attachment/431776/197150/">Download &#40;untitled&#41;</a>
<span class="downloadcontenttype">
[text/plain 64b]
</span> 
</div>
<div class="messagebody">
<div class="message-stanza-depth-0">
Simplified version of patch made after discussion with jonathan.<br />
</div>
</div>
</div>
<table>
</table>
<div class="messagebody">
<table>
</table>
<div class="messagebody">
<div class="message-stanza-depth-0">

</div>
</div>
<table>
</table>
 
<div class="downloadattachment">
 
<a href="/rt3/Ticket/Attachment/431776/197156/test2.diff">Download test2.diff</a>
<span class="downloadcontenttype">
[text/x-diff 3.2k]
</span> 
</div>
<div class="messagebody">
<div class="message-stanza-depth-0">
diff --git a/languages/perl6/Test.pm b/languages/perl6/Test.pm<br />
index 5cb04ae..aec9daf 100644<br />
--- a/languages/perl6/Test.pm<br />
+++ b/languages/perl6/Test.pm<br />
@@ -14,6 +14,13 @@ our $todo_reason = &#39;&#39;;<br />
<div class="message-stanza-depth-1">
 # for running the test suite multiple times in the same process<br />
</div>
 our $testing_started;<br />
 <br />
+# Default binding of proclaim&#40;&#41;<br />
+our &#38;proclaim := &#38;real_proclaim;<br />
+<br />
+# Override proclaim for testing purpose<br />
+sub set_proclaim&#40;$proc&#41; {<br />
+       &#38;proclaim := $proc;<br />
+}<br />
 <br />
<div class="message-stanza-depth-1">
 ## test functions<br />
</div>
 <br />
@@ -145,7 +152,7 @@ sub eval_exception&#40;$code&#41; {<br />
     $eval_exception // $!;<br />
 }<br />
 <br />
-sub proclaim&#40;$cond, $desc&#41; {<br />
+sub real_proclaim&#40;$cond, $desc&#41; {<br />
     $testing_started  = 1;<br />
     $num_of_tests_run = $num_of_tests_run + 1;<br />
 <br />
diff --git a/languages/perl6/src/builtins/control.pir b/languages/perl6/src/builtins/control.pir<br />
index 4fe2b5d..e136fe2 100644<br />
--- a/languages/perl6/src/builtins/control.pir<br />
+++ b/languages/perl6/src/builtins/control.pir<br />
@@ -135,10 +135,10 @@ on error.<br />
 <br />
     .local pmc compiler, invokable<br />
     .local pmc res, exception<br />
+    push_eh catch<br />
     compiler = compreg &#39;Perl6&#39;<br />
     invokable = compiler.&#39;compile&#39;&#40;code&#41;<br />
 <br />
-    push_eh catch<br />
     res = invokable&#40;&#41;<br />
     pop_eh<br />
     exception = new &#39;Failure&#39;<br />
diff --git a/languages/perl6/t/02-test-pm/6-full.t b/languages/perl6/t/02-test-pm/6-full.t<br />
new file mode 100644<br />
index 0000000..6e40a46<br />
--- /dev/null<br />
+++ b/languages/perl6/t/02-test-pm/6-full.t<br />
@@ -0,0 +1,102 @@<br />
+use Test;<br />
+plan 18;<br />
+<br />
+our $expect_fail = 0;<br />
+<br />
+sub fake_proclaim &#40;$cond, $desc&#41; {<br />
+       real_proclaim&#40;&#40;$cond xor $expect_fail&#41;, $desc&#41;;<br />
+}<br />
+<br />
+set_proclaim&#40;&#38;fake_proclaim&#41;;<br />
+<br />
+<br />
+## ok<br />
+<br />
+$expect_fail = 0;<br />
+ok&#40;2 + 2 == 4, &#39;2 and 2 make 4&#39;&#41;;<br />
+<br />
+$expect_fail = 1;<br />
+ok&#40;2 + 2 == 5, &#39;2 and 2 doesnt make 5&#39;&#41;;<br />
+<br />
+# nok<br />
+<br />
+$expect_fail = 1;<br />
+nok&#40;2 + 2 == 4, &#39;2 and 2 make 4&#39;&#41;;<br />
+<br />
+$expect_fail = 0;<br />
+nok&#40;2 + 2 == 5, &#39;2 and 2 doesnt make 5&#39;&#41;;<br />
+<br />
+## is<br />
+<br />
+$expect_fail = 0;<br />
+is&#40;2 + 2, 4, &#39;2 and 2 make 4&#39;&#41;;<br />
+<br />
+$expect_fail = 1;<br />
+is&#40;2 + 2, 5, &#39;2 and 2 doesnt make 5&#39;&#41;;<br />
+<br />
+## isnt<br />
+$expect_fail = 0;<br />
+isnt&#40;2 + 2, 5, &#39;2 and 2 doesnt make 5&#39;&#41;;<br />
+<br />
+$expect_fail = 1;<br />
+isnt&#40;2 + 2, 4, &#39;2 and 2 does make 4&#39;&#41;;<br />
+<br />
+## todo<br />
+<br />
+## skip<br />
+<br />
+## dies_ok<br />
+<br />
+$expect_fail = 0;<br />
+dies_ok { die &#34;Testing dies_ok&#34; }, &#39;... it dies_ok&#39;;<br />
+<br />
+$expect_fail = 1;<br />
+dies_ok { &#34;Testing dies_ok&#34; }, &#39;... it dies_ok&#39;;<br />
+<br />
+## lives_ok<br />
+<br />
+$expect_fail = 0;<br />
+lives_ok { &#34;test&#34; }, &#39;... it lives_ok&#39;;<br />
+<br />
+$expect_fail = 1;<br />
+lives_ok { die &#34;test&#34; }, &#39;... it lives_ok for catching failures&#39;;<br />
+<br />
+## eval_dies_ok<br />
+<br />
+$expect_fail = 0;<br />
+eval_dies_ok&#40;&#39;&lt;&#39;, &#39;... it eval_dies_ok during parsing&#39;&#41;;<br />
+eval_dies_ok&#40;&#39;die&#39;, &#39;... it eval_dies_ok during evaluation &#39;&#41;;<br />
+<br />
+$expect_fail = 1;<br />
+eval_dies_ok&#40;&#39;my $a;&#39;, &#39;... it dies for catching failures&#39;&#41;;<br />
+<br />
+## eval_lives_ok<br />
+$expect_fail = 0;<br />
+eval_lives_ok&#40;&#39;1&#39;, &#39;... it eval_lives_ok&#39;&#41;;<br />
+<br />
+$expect_fail = 1;<br />
+eval_lives_ok&#40;&#39;&lt;&#39;, &#39;... it eval_lives_ok for catching failures during parsing&#39;&#41;;<br />
+eval_lives_ok&#40;&#39;die&#39;, &#39;... it eval_lives_ok for catching failures during evaluation&#39;&#41;;<br />
+<br />
+<br />
+## diag<br />
+<br />
+#diag&#40;&#39;some misc comments and documentation&#39;&#41;;<br />
+<br />
+## pass<br />
+<br />
+#pass&#40;&#39;This test passed&#39;&#41;;<br />
+<br />
+## flunk<br />
+<br />
+#flunk&#40;&#39;This test failed&#39;, todo =&gt; 1&#41;;<br />
+#flunk&#40;&#39;This test failed&#39;, :todo&#40;1&#41;&#41;;<br />
+<br />
+## skip<br />
+<br />
+#skip&#40;&#39;skip this test for now&#39;&#41;;<br />
+#skip&#40;3, &#39;skip 3 more tests for now&#39;&#41;;<br />
+#skip_rest&#40;&#39;skipping the rest&#39;&#41;;<br />
+<br />
+1;<br />
+<br />
</div>
</div>
</div>
    </td>
  </tr>

</table>
</div>


<div class="ticket-transaction message even">

<table width="100%" cellspacing="0" cellpadding="2" border="0">
  <tr>
    <td rowspan="2" valign="top" class="type">
      <a name="txn-432630" href="/rt3/Ticket/Display.html?id=55438#txn-432630">#</a>
      &nbsp;
    </td>
    <td class="date">Sat&nbsp;Jun&nbsp;21&nbsp;16:10:24&nbsp;2008</td>
    <td class="description">
      bacek -  Comments added
    </td>
    <td class="time-taken"></td>
    <td class="actions">&nbsp;</td>
  </tr>

  <tr>
    <td colspan="4" class="content">
<table>
</table>
<div class="messagebody">
<table>
</table>
 
<div class="downloadattachment">
 
<a href="/rt3/Ticket/Attachment/432630/197608/">Download &#40;untitled&#41;</a>
<span class="downloadcontenttype">
[text/plain 74b]
</span> 
</div>
<div class="messagebody">
<div class="message-stanza-depth-0">
Yet another version of diff. Pm likes it more than previous :&#41;<br />
<br />
-- <br />
Bacek.<br />
</div>
</div>
</div>
<table>
</table>
<div class="messagebody">
<table>
</table>
<div class="messagebody">
<div class="message-stanza-depth-0">

</div>
</div>
<table>
</table>
 
<div class="downloadattachment">
 
<a href="/rt3/Ticket/Attachment/432630/197614/test3.diff">Download test3.diff</a>
<span class="downloadcontenttype">
[text/x-diff 3.1k]
</span> 
</div>
<div class="messagebody">
<div class="message-stanza-depth-0">
diff --git a/languages/perl6/Test.pm b/languages/perl6/Test.pm<br />
index 5cb04ae..ed4d083 100644<br />
--- a/languages/perl6/Test.pm<br />
+++ b/languages/perl6/Test.pm<br />
@@ -14,6 +14,12 @@ our $todo_reason = &#39;&#39;;<br />
<div class="message-stanza-depth-1">
 # for running the test suite multiple times in the same process<br />
</div>
 our $testing_started;<br />
 <br />
+# Next tests expected to fail. Used for testing Test.pm<br />
+our $expect_fail = 0;<br />
+<br />
+sub expect_fail&#40;$e&#41; {<br />
+       $expect_fail = $e;<br />
+}<br />
 <br />
<div class="message-stanza-depth-1">
 ## test functions<br />
</div>
 <br />
@@ -149,7 +155,7 @@ sub proclaim&#40;$cond, $desc&#41; {<br />
     $testing_started  = 1;<br />
     $num_of_tests_run = $num_of_tests_run + 1;<br />
 <br />
-    unless $cond {<br />
+    unless $cond xor $expect_fail {<br />
         print &#34;not &#34;;<br />
         $num_of_tests_failed = $num_of_tests_failed + 1<br />
             unless  $num_of_tests_run &lt;= $todo_upto_test_num;<br />
diff --git a/languages/perl6/src/builtins/control.pir b/languages/perl6/src/builtins/control.pir<br />
index 4fe2b5d..e136fe2 100644<br />
--- a/languages/perl6/src/builtins/control.pir<br />
+++ b/languages/perl6/src/builtins/control.pir<br />
@@ -135,10 +135,10 @@ on error.<br />
 <br />
     .local pmc compiler, invokable<br />
     .local pmc res, exception<br />
+    push_eh catch<br />
     compiler = compreg &#39;Perl6&#39;<br />
     invokable = compiler.&#39;compile&#39;&#40;code&#41;<br />
 <br />
-    push_eh catch<br />
     res = invokable&#40;&#41;<br />
     pop_eh<br />
     exception = new &#39;Failure&#39;<br />
diff --git a/languages/perl6/t/02-test-pm/6-full.t b/languages/perl6/t/02-test-pm/6-full.t<br />
new file mode 100644<br />
index 0000000..588ff81<br />
--- /dev/null<br />
+++ b/languages/perl6/t/02-test-pm/6-full.t<br />
@@ -0,0 +1,93 @@<br />
+use Test;<br />
+plan 22;<br />
+<br />
+## ok<br />
+<br />
+expect_fail&#40;0&#41;;<br />
+ok&#40;2 + 2 == 4, &#39;2 and 2 make 4&#39;&#41;;<br />
+<br />
+expect_fail&#40;1&#41;;<br />
+ok&#40;2 + 2 == 5, &#39;2 and 2 doesnt make 5&#39;&#41;;<br />
+<br />
+# nok<br />
+<br />
+expect_fail&#40;1&#41;;<br />
+nok&#40;2 + 2 == 4, &#39;2 and 2 make 4&#39;&#41;;<br />
+<br />
+expect_fail&#40;0&#41;;<br />
+nok&#40;2 + 2 == 5, &#39;2 and 2 doesnt make 5&#39;&#41;;<br />
+<br />
+## is<br />
+<br />
+expect_fail&#40;0&#41;;<br />
+is&#40;2 + 2, 4, &#39;2 and 2 make 4&#39;&#41;;<br />
+<br />
+expect_fail&#40;1&#41;;<br />
+is&#40;2 + 2, 5, &#39;2 and 2 doesnt make 5&#39;&#41;;<br />
+<br />
+## isnt<br />
+expect_fail&#40;0&#41;;<br />
+isnt&#40;2 + 2, 5, &#39;2 and 2 doesnt make 5&#39;&#41;;<br />
+<br />
+expect_fail&#40;1&#41;;<br />
+isnt&#40;2 + 2, 4, &#39;2 and 2 does make 4&#39;&#41;;<br />
+<br />
+## todo<br />
+<br />
+## skip<br />
+<br />
+## dies_ok<br />
+<br />
+expect_fail&#40;0&#41;;<br />
+dies_ok { die &#34;Testing dies_ok&#34; }, &#39;... it dies_ok&#39;;<br />
+<br />
+expect_fail&#40;1&#41;;<br />
+dies_ok { &#34;Testing dies_ok&#34; }, &#39;... it dies_ok&#39;;<br />
+<br />
+## lives_ok<br />
+<br />
+expect_fail&#40;0&#41;;<br />
+lives_ok { &#34;test&#34; }, &#39;... it lives_ok&#39;;<br />
+<br />
+expect_fail&#40;1&#41;;<br />
+lives_ok { die &#34;test&#34; }, &#39;... it lives_ok for catching failures&#39;;<br />
+<br />
+## eval_dies_ok<br />
+<br />
+expect_fail&#40;0&#41;;<br />
+eval_dies_ok&#40;&#39;&lt;&#39;, &#39;... it eval_dies_ok during parsing&#39;&#41;;<br />
+eval_dies_ok&#40;&#39;die&#39;, &#39;... it eval_dies_ok during evaluation &#39;&#41;;<br />
+<br />
+expect_fail&#40;1&#41;;<br />
+eval_dies_ok&#40;&#39;my $a;&#39;, &#39;... it dies for catching failures&#39;&#41;;<br />
+<br />
+## eval_lives_ok<br />
+expect_fail&#40;0&#41;;<br />
+eval_lives_ok&#40;&#39;1&#39;, &#39;... it eval_lives_ok&#39;&#41;;<br />
+<br />
+expect_fail&#40;1&#41;;<br />
+eval_lives_ok&#40;&#39;&lt;&#39;, &#39;... it eval_lives_ok for catching failures during parsing&#39;&#41;;<br />
+eval_lives_ok&#40;&#39;die&#39;, &#39;... it eval_lives_ok for catching failures during evaluation&#39;&#41;;<br />
+<br />
+## diag<br />
+<br />
+diag&#40;&#39;some misc comments and documentation&#39;&#41;;<br />
+<br />
+## pass<br />
+<br />
+#pass&#40;&#39;This test passed&#39;&#41;;<br />
+<br />
+## flunk<br />
+<br />
+#flunk&#40;&#39;This test failed&#39;, todo =&gt; 1&#41;;<br />
+#flunk&#40;&#39;This test failed&#39;, :todo&#40;1&#41;&#41;;<br />
+<br />
+## skip<br />
+<br />
+expect_fail&#40;0&#41;;<br />
+skip&#40;&#39;skip this test for now&#39;&#41;;<br />
+skip&#40;3, &#39;skip 3 more tests for now&#39;&#41;;<br />
+#skip_rest&#40;&#39;skipping the rest&#39;&#41;;<br />
+<br />
+1;<br />
+<br />
</div>
</div>
</div>
    </td>
  </tr>

</table>
</div>


<div class="ticket-transaction message odd">

<table width="100%" cellspacing="0" cellpadding="2" border="0">
  <tr>
    <td rowspan="2" valign="top" class="type">
      <a name="txn-507684" href="/rt3/Ticket/Display.html?id=55438#txn-507684">#</a>
      &nbsp;
    </td>
    <td class="date">Mon&nbsp;Dec&nbsp;15&nbsp;09:46:10&nbsp;2008</td>
    <td class="description">
      pmichaud -  Correspondence added
    </td>
    <td class="time-taken"></td>
    <td class="actions">&nbsp;</td>
  </tr>

  <tr>
    <td colspan="4" class="content">
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value">perl6-compilers <!-- x --> at perl.org</td>
  </tr>
</table>
 
<div class="downloadattachment">
 
<a href="/rt3/Ticket/Attachment/507684/238848/">Download &#40;untitled&#41;</a>
<span class="downloadcontenttype">
[text/plain 293b]
</span> 
</div>
<div class="messagebody">
<div class="message-stanza-depth-0">
Since it looks as though builtin testing functions are going to become<br />
part of the spec &#40;Synopsis 24&#41;, I recommend we put tests like these into<br />
the official test suite &#40;pugscode t/spec&#41;.<br />
<br />
In the meantime, I&#39;ll close this ticket as resolved since the tests can<br />
go better elsewhere.<br />
<br />
Thanks!<br />
<br />
Pm<br />
</div>
</div>
    </td>
  </tr>

</table>
</div>


<div class="ticket-transaction basics even">

<table width="100%" cellspacing="0" cellpadding="2" border="0">
  <tr>
    <td rowspan="2" valign="top" class="type">
      <a name="txn-507690" href="/rt3/Ticket/Display.html?id=55438#txn-507690">#</a>
      &nbsp;
    </td>
    <td class="date">Mon&nbsp;Dec&nbsp;15&nbsp;09:46:13&nbsp;2008</td>
    <td class="description">
      pmichaud -  Status changed from &#39;open&#39; to &#39;resolved&#39;
    </td>
    <td class="time-taken"></td>
    <td class="actions">&nbsp;</td>
  </tr>

  <tr>
    <td colspan="4" class="content">
    </td>
  </tr>

</table>
</div>


</div>
    <hr class="clear" />
  </div>
</div>




 


</div>
<hr size=0>
<div>
For issues related to this RT instance (aka "perlbug"), please contact <tt>perlbug-admin at perl.org</tt>
</div>


<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-50555-18");
pageTracker._initData();
pageTracker._trackPageview();
</script>

<div id="footer">
  <p id="time">
    <span>Time to display: 2.268269</span>
  </p>

  <p id="bpscredits">
    <span>
&#187;&#124;&#171; RT 3.6.HEAD Copyright 1996-2006 <a href="http://www.bestpractical.com?rt=3.6.HEAD">Best Practical Solutions, LLC</a>.
</span>
</p>

</div>

  </body>
</html>
